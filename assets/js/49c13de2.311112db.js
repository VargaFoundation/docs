"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4690],{3305:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"argus/troubleshooting","title":"Troubleshooting","description":"Common issues","source":"@site/docs/argus/troubleshooting.md","sourceDirName":"argus","slug":"/argus/troubleshooting","permalink":"/argus/troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/argus/troubleshooting.md","tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"id":"troubleshooting","title":"Troubleshooting","sidebar_position":11},"sidebar":"tutorialSidebar","previous":{"title":"FAQ","permalink":"/argus/faq"},"next":{"title":"Rivio","permalink":"/category/rivio"}}');var r=s(4848),o=s(8453);const t={id:"troubleshooting",title:"Troubleshooting",sidebar_position:11},l=void 0,c={},d=[{value:"Common issues",id:"common-issues",level:2},{value:"Connection fails",id:"connection-fails",level:3},{value:"SSL errors",id:"ssl-errors",level:3},{value:"Query hangs",id:"query-hangs",level:3},{value:"Wrong backend selected",id:"wrong-backend-selected",level:3},{value:"Type conversion errors",id:"type-conversion-errors",level:3},{value:"Driver not found",id:"driver-not-found",level:3},{value:"isql returns &quot;Data source name not found&quot;",id:"isql-returns-data-source-name-not-found",level:3},{value:"Phoenix-specific issues",id:"phoenix-specific-issues",level:3},{value:"Kudu-specific issues",id:"kudu-specific-issues",level:3},{value:"Debug tips",id:"debug-tips",level:2}];function a(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"common-issues",children:"Common issues"}),"\n",(0,r.jsx)(n.h3,{id:"connection-fails",children:"Connection fails"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Enable trace logging: ",(0,r.jsx)(n.code,{children:"LogLevel=6;LogFile=/tmp/argus.log"})]}),"\n",(0,r.jsx)(n.li,{children:"Check firewall rules and network reachability."}),"\n",(0,r.jsxs)(n.li,{children:["Verify ",(0,r.jsx)(n.code,{children:"HOST"}),", ",(0,r.jsx)(n.code,{children:"PORT"}),", and ",(0,r.jsx)(n.code,{children:"BACKEND"})," values."]}),"\n",(0,r.jsxs)(n.li,{children:["Try retry: ",(0,r.jsx)(n.code,{children:"RetryCount=3;RetryDelay=2"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"ssl-errors",children:"SSL errors"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Verify certificate paths are absolute and readable."}),"\n",(0,r.jsx)(n.li,{children:"Check certificate validity and expiration."}),"\n",(0,r.jsxs)(n.li,{children:["Try ",(0,r.jsx)(n.code,{children:"SSLVerify=0"})," for testing (never in production)."]}),"\n",(0,r.jsx)(n.li,{children:"Ensure the backend has SSL/TLS enabled on its side."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"query-hangs",children:"Query hangs"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Set a timeout: ",(0,r.jsx)(n.code,{children:"QueryTimeout=300"})]}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"SQLCancel"})," from another thread."]}),"\n",(0,r.jsx)(n.li,{children:"Check backend logs for stuck queries."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"wrong-backend-selected",children:"Wrong backend selected"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Verify the ",(0,r.jsx)(n.code,{children:"BACKEND"})," parameter is set (",(0,r.jsx)(n.code,{children:"hive"}),", ",(0,r.jsx)(n.code,{children:"impala"}),", ",(0,r.jsx)(n.code,{children:"trino"}),", ",(0,r.jsx)(n.code,{children:"phoenix"}),", or ",(0,r.jsx)(n.code,{children:"kudu"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:["Default is ",(0,r.jsx)(n.code,{children:"hive"})," if not specified."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"type-conversion-errors",children:"Type conversion errors"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Check the source column type against the bound C type."}),"\n",(0,r.jsx)(n.li,{children:"Enable DEBUG logging to see conversion details."}),"\n",(0,r.jsx)(n.li,{children:"Complex types (ARRAY, MAP, STRUCT) are returned as JSON strings."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"driver-not-found",children:"Driver not found"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Verify ",(0,r.jsx)(n.code,{children:"/etc/odbcinst.ini"})," has an ",(0,r.jsx)(n.code,{children:"[Argus]"})," section."]}),"\n",(0,r.jsxs)(n.li,{children:["Check the ",(0,r.jsx)(n.code,{children:"Driver"})," path points to the actual ",(0,r.jsx)(n.code,{children:"libargus_odbc.so"})," location."]}),"\n",(0,r.jsxs)(n.li,{children:["Run ",(0,r.jsx)(n.code,{children:"odbcinst -q -d"})," to list registered drivers."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"isql-returns-data-source-name-not-found",children:'isql returns "Data source name not found"'}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Verify ",(0,r.jsx)(n.code,{children:"/etc/odbc.ini"})," or ",(0,r.jsx)(n.code,{children:"~/.odbc.ini"})," has the DSN defined."]}),"\n",(0,r.jsxs)(n.li,{children:["Run ",(0,r.jsx)(n.code,{children:"odbcinst -q -s"})," to list registered DSNs."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"phoenix-specific-issues",children:"Phoenix-specific issues"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Avatica error: connection refused"}),": Ensure Phoenix Query Server is running on the specified host and port (default 8765)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Avatica error: no such connection"}),": The PQS connection may have timed out. Reconnect and retry."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Empty result sets"}),": Verify the Phoenix table exists and has data. Use the Phoenix ",(0,r.jsx)(n.code,{children:"sqlline"})," tool to test queries directly."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"kudu-specific-issues",children:"Kudu-specific issues"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"SQL parse error"}),": The Kudu backend only supports basic ",(0,r.jsx)(n.code,{children:"SELECT ... FROM ... WHERE ... LIMIT"})," syntax. ",(0,r.jsx)(n.code,{children:"JOIN"}),", ",(0,r.jsx)(n.code,{children:"GROUP BY"}),", ",(0,r.jsx)(n.code,{children:"ORDER BY"}),", subqueries, and DML statements are not supported."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Table not found"}),": Verify the table name matches exactly (Kudu table names are case-sensitive). If using a DATABASE prefix, ensure it matches the table namespace in Kudu."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Column not found in predicate"}),": Column names in ",(0,r.jsx)(n.code,{children:"WHERE"})," clauses must match the Kudu schema exactly (case-sensitive)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Connection to master failed"}),": Verify the Kudu master is reachable on the specified host and port (default 7051). Check that ",(0,r.jsx)(n.code,{children:"libkudu_client"})," is installed."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"debug-tips",children:"Debug tips"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Set ",(0,r.jsx)(n.code,{children:"LogLevel=6"})," for maximum verbosity."]}),"\n",(0,r.jsx)(n.li,{children:"Check log output for Thrift, HTTP, or Kudu client errors."}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"isql -v <DSN>"})," to test connectivity."]}),"\n",(0,r.jsxs)(n.li,{children:["Verify the shared library exports: ",(0,r.jsx)(n.code,{children:"nm -D libargus_odbc.so | grep SQL"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>l});var i=s(6540);const r={},o=i.createContext(r);function t(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);