"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5648],{6157:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"vorath/operations","title":"Operations","description":"Post-deployment checks:","source":"@site/docs/vorath/operations.md","sourceDirName":"vorath","slug":"/vorath/operations","permalink":"/vorath/operations","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/vorath/operations.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"id":"operations","title":"Operations","sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Configuration","permalink":"/vorath/configuration"},"next":{"title":"Troubleshooting","permalink":"/vorath/troubleshooting"}}');var i=s(4848),o=s(8453);const r={id:"operations",title:"Operations",sidebar_position:6},a=void 0,l={},c=[];function d(e){const n={code:"code",li:"li",ol:"ol",p:"p",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Post-deployment checks:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Pods: ",(0,i.jsx)(n.code,{children:"kubectl get pods -n <namespace>"})]}),"\n",(0,i.jsxs)(n.li,{children:["Logs: ",(0,i.jsx)(n.code,{children:"kubectl logs <pod> -n <namespace> --tail=200"})]}),"\n",(0,i.jsxs)(n.li,{children:["Events: ",(0,i.jsx)(n.code,{children:"kubectl get events -n <namespace> --sort-by=.lastTimestamp"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Quick tests:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Create a StorageClass and a PVC (see \u201cConfiguration\u201d), then mount the volume in a test Pod"}),"\n",(0,i.jsx)(n.li,{children:"Verify directory creation/permissions in HDFS for the volume"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Logging and verbosity:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Adjust log level via environment variables if supported by the image (e.g., LOG_LEVEL)"}),"\n",(0,i.jsx)(n.li,{children:"Forward logs to your centralized stack"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Metrics and liveness:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"CSI livenessprobe sidecar checks driver health"}),"\n",(0,i.jsx)(n.li,{children:"Expose metrics (if enabled/added) to Prometheus via ServiceMonitor"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Upgrades:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.code,{children:"helm upgrade"})," with incremental changes"]}),"\n",(0,i.jsx)(n.li,{children:"Validate in staging before production"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Backups/Restores:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Data lives in HDFS; follow your HDFS backup procedures (HDFS snapshots if available, distcp, NameNode backups)"}),"\n",(0,i.jsx)(n.li,{children:"Version Kubernetes manifests (chart and values) in Git"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Monitoring and alerts:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Monitor NameNode/DataNode availability, RPC latency, and authentication errors"}),"\n",(0,i.jsx)(n.li,{children:"Alert on CSI pod crashloops, attachment/provisioning failures, and CSI error codes"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>a});var t=s(6540);const i={},o=t.createContext(i);function r(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);